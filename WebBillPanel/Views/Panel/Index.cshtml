@using WebBillPanel.Controllers
@using WebDataModel.Entities
@model IEnumerable<ventaDto>
@{
    ViewBag.Title = "Panel";
    int count = 0;
}
@section Styles
{
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.1.0/css/responsive.dataTables.min.css"/>
    <style>
        .parent-height {
            height: 40rem;
        }

        div .content-width {
            width: 25rem;
        }
    </style>
}
@section Scripts
{
    <script src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js"></script>
    <script>
        $(function() {
            $('[data-toggle="tooltip"]').tooltip();
        });
        $(document).ready(function(){
            $('#myTable').DataTable({
                responsive: true,
                bProcessing: false,
                bFilter: false,
                bAutoWidth: false,
                bLengthChange : false
            });
        });
    </script>
}
<br/>
<h3 class="text-xs-center">Comprobantes Electrónicos <span class="tag special-color">@Model.Count()</span></h3>
<br/>
<div class="row" style="min-height:25rem">
    <div class="col-md-8 offset-md-2">
        <table  class="display responsive nowrap"  id="myTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Doc</th>
                    <th>Fecha</th>
                    <th>Total</th>
                    <th>PDF</th>
                    <th>XML</th>
                </tr>
            </thead>
            <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <th scope="row">@(++count)</th>
                    <td>@item.v_SerieDocumento - @item.v_CorrelativoDocumento</td>
                    <td>@item.t_FechaRegistro.Value.ToShortDateString()</td>
                    <td>@(item.i_IdMoneda == 1 ? "S/." : "$") @item.d_Total</td>
                    <td>
                        @{
                            var id = Encryptor.Encode(item.v_IdVenta);
                        }
                        <button type="button" class="btn btn-sm btn-primary red" data-toggle="tooltip" data-placement="top" title="Descargar PDF"
                                onclick="location.href = '@Url.Action("gen-pdf", "Panel", new {id, org = "uxsr"})'">
                            <i class="fa fa-file-pdf-o"></i>
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-sm btn-primary green" data-toggle="tooltip" data-placement="top" title="Descargar XML"
                                onclick="location.href ='@Url.Action("gen-xml", "Panel", new {id, org = "uxsr"})'">
                            <i class="fa fa-file-excel-o"></i>
                        </button>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>