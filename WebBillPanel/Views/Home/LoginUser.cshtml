@model WebBillPanel.Models.ClienteCredencial
@{
    ViewBag.Title = "Login";
}
@section BottomSite
{
    <script>
        $(document).ready(function() {
            $('#btnIngresar').click(function () {
                $(this).hide();
                $('#loadingC').show();
                setTimeout(function () {
                    $("#frmLogin").submit();
                }, 1500);
            });
            if (document.querySelector('#snack_loginDoc') != null)
                setTimeout(function () {
                    var snackbarContainer = document.querySelector('#snack_loginDoc');
                    var handler = function (event) {
                        $('#UserName').focus();
                    };
                    var data = {
                        message: 'Usuario no encontrado!',
                        timeout: 2000,
                        actionHandler: handler,
                        actionText: 'Retry'
                    }
                    snackbarContainer.MaterialSnackbar.showSnackbar(data);
                }, 500);
        });
    </script>
}
<div style="text-align: center; padding: 130px 0">
    @using (Html.BeginForm("LoginUser", "Home", FormMethod.Post, new {role = "form", id = "frmLogin"}))
    {
        @Html.AntiForgeryToken()
        <div class="mdl-card mdl-shadow--6dp" style="margin: auto">
            <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
                <h2 class="mdl-card__title-text">Login</h2>
            </div>
            <div class="mdl-card__supporting-text">
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    @Html.TextBoxFor(m => m.UserName, new {@class = "mdl-textfield__input", pattern = "[0-9]*"})
                    @Html.LabelFor(m => m.UserName, new {@class = "mdl-textfield__label"})
                    <span class="mdl-textfield__error">Solo numeros y sin espacios!</span>
                </div>
                @Html.ValidationMessageFor(m => m.UserName, "", new {@class = "mdl-color-text--red mdl-typography--font-bold"})
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    @Html.PasswordFor(m => m.Password, new {@class = "mdl-textfield__input"})
                    @Html.LabelFor(m => m.Password, new {@class = "mdl-textfield__label"})
                </div>
                @Html.ValidationMessageFor(m => m.Password, "", new {@class = "mdl-color-text--red mdl-typography--font-bold"})
            </div>
            <div class="mdl-card__actions mdl-card--border">
                <button type="button" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" id="btnIngresar">Ingresar</button>
                <div id="loadingC" class="mdl-spinner mdl-js-spinner is-active" style="display: none"></div>
            </div>
        </div>
    }
</div>
@if (ViewBag.NoValid != null)
{
    <div id="snack_loginDoc" class="mdl-js-snackbar mdl-snackbar">
        <div class="mdl-snackbar__text"></div>
        <button class="mdl-snackbar__action" type="button"></button>
    </div>
}